app:
  name: "ZenoVerso CLI"
  author: "Quino"

  compose_file: "D:\\Github-zen0s4ma\\zenomedia-server\\docker-compose.yml"
  project_dir:  "D:\\Github-zen0s4ma\\zenomedia-server"

  runtime_home: "E:\\Docker_folders\\_zenoverso_cli"
  log_dir: "E:\\Docker_folders\\_zenoverso_cli\\logs"

  clear_screen: true
  default_tail_lines: 70

  history_show_last: 15
  history_keep_max: 2000
  history_file: "E:\\Docker_folders\\_zenoverso_cli\\history.ndjson"

commands:
  - id: 1
    title: "Actualizar guía de televisión"
    desc: "Lanza el update en webgrabplus (EPG en E:\\Docker_folders\\epg\\guide.txt)"
    actions:
      - type: docker_exec
        container: "webgrabplus"
        exec_cmd: "stdbuf -oL -eL s6-setuidgid abc /bin/bash /app/update.sh"
        stdin: false
        tty: true
        mode: live
        tail_lines: 15

  - id: 2
    title: "Reinicio completo + subida gradual del stack"
    desc: "PARA TODO y levanta el compose de nuevo de forma gradual usando stack-up.sh (misma ruta que el compose)"
    actions:
      - type: shell
        cmd: "stack-up.sh"
        mode: live
        tail_lines: 80

  - id: 3
    title: "Actualizar imágenes (pull) selectivo"
    desc: "Elige servicios por número (1,3,7 o rangos) y hace docker compose pull"
    actions:
      - type: compose_pull_select
        mode: live
        tail_lines: 80

  - id: 5
    title: "Ver logs (elige servicio)"
    desc: "docker compose logs -f --tail 200 <service> (Ctrl+C para salir)"
    actions:
      - type: compose_logs
        service: "prompt"
        follow: true
        tail: 200
        mode: live
        tail_lines: 80

  - id: 6
    title: "Shell en un contenedor (interactivo)"
    desc: "Abre bash/sh dentro de un contenedor (modo passthrough)"
    actions:
      - type: compose_exec
        service: "prompt"
        exec_cmd: "/bin/bash"
        tty: true
        mode: passthrough
